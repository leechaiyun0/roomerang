<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>비밀번호 찾기</title>
    <style>
        .form-group { margin-bottom: 15px; }
    </style>
</head>
<body>
<h1>비밀번호 찾기</h1>
<!-- action과 method는 폼 기본 제출을 막기 위해 사용하지 않거나, action="#" 로 처리 -->
<form id="resetPwForm">
    <div class="form-group">
        <label for="username">아이디</label>
        <input type="text" id="username" name="username" placeholder="아이디 입력" required/>
    </div>

    <div class="form-group">
        <label for="name">이름</label>
        <input type="text" id="name" name="name" placeholder="이름 입력" required/>
    </div>

    <div class="form-group">
        <label for="birthDate">생년월일</label>
        <input type="date" id="birthDate" name="birthDate" required/>
    </div>

    <div class="form-group">
        <label for="gender">성별</label>
        <select id="gender" name="gender" required>
            <option value="MALE">남성</option>
            <option value="FEMALE">여성</option>
        </select>
    </div>
    <button type="submit">비밀번호 찾기</button>
</form>

<!-- JSON 전송을 위한 JavaScript 코드 -->
<script>
    document.getElementById('resetPwForm').addEventListener('submit', function(event) {
        event.preventDefault(); // 기본 폼 제출 막기

        // 폼 데이터를 JSON 객체로 수집
        const formData = {
            username: document.getElementById('username').value,
            name: document.getElementById('name').value,
            birthDate: document.getElementById('birthDate').value,
            gender: document.getElementById('gender').value
        };

        // JSON 데이터 전송 (예시: /auth/reset-password/request 엔드포인트)
        fetch('/auth/reset-password/request', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(formData)
        })
            .then(response => response.json())
            .then(data => {
                // 서버로부터 받은 응답 처리 (예를 들어, 성공 시 다른 페이지로 이동)
                console.log('응답 데이터:', data);
                // 필요에 따라 window.location.href = '...'; 등을 이용해 페이지 이동
            })
            .catch(error => {
                console.error('전송 실패:', error);
            });
    });
</script>
</body>
</html>